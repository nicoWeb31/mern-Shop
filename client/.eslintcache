[{"/media/ni/新加卷/mern-stack/full-shop/client/src/components/app/App.js":"1","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/login/Login.jsx":"2","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/home/Home.jsx":"3","/media/ni/新加卷/mern-stack/full-shop/client/src/index.js":"4","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/register/Register.jsx":"5","/media/ni/新加卷/mern-stack/full-shop/client/src/components/menu/Header.jsx":"6","/media/ni/新加卷/mern-stack/full-shop/client/src/firebase.js":"7","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/registerComplete/RegisterComplete.jsx":"8","/media/ni/新加卷/mern-stack/full-shop/client/src/redux/store.js":"9","/media/ni/新加卷/mern-stack/full-shop/client/src/redux/reducers/index.js":"10","/media/ni/新加卷/mern-stack/full-shop/client/src/redux/reducers/authReducer.js":"11","/media/ni/新加卷/mern-stack/full-shop/client/src/redux/type/authType.js":"12","/media/ni/新加卷/mern-stack/full-shop/client/src/redux/actions/authAction.js":"13","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/forgotpassword/ForgotPassword.jsx":"14"},{"size":1983,"mtime":1611225915600,"results":"15","hashOfConfig":"16"},{"size":4243,"mtime":1611225852479,"results":"17","hashOfConfig":"16"},{"size":136,"mtime":1611057981021,"results":"18","hashOfConfig":"16"},{"size":453,"mtime":1611154081648,"results":"19","hashOfConfig":"16"},{"size":1905,"mtime":1611160313631,"results":"20","hashOfConfig":"16"},{"size":2386,"mtime":1611222144562,"results":"21","hashOfConfig":"16"},{"size":771,"mtime":1611134969200,"results":"22","hashOfConfig":"16"},{"size":2918,"mtime":1611152720406,"results":"23","hashOfConfig":"16"},{"size":350,"mtime":1611154453293,"results":"24","hashOfConfig":"16"},{"size":177,"mtime":1611154444443,"results":"25","hashOfConfig":"16"},{"size":325,"mtime":1611154856587,"results":"26","hashOfConfig":"16"},{"size":87,"mtime":1611154846539,"results":"27","hashOfConfig":"16"},{"size":272,"mtime":1611157435138,"results":"28","hashOfConfig":"16"},{"size":2924,"mtime":1611227336289,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1qtx8jo",{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"38"},"/media/ni/新加卷/mern-stack/full-shop/client/src/components/app/App.js",["63"],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/login/Login.jsx",["64"],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/home/Home.jsx",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/index.js",[],["65","66"],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/register/Register.jsx",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/components/menu/Header.jsx",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/firebase.js",[],["67","68"],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/registerComplete/RegisterComplete.jsx",["69"],"import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../../firebase\";\nimport { toast } from \"react-toastify\";\n\n\nconst RegisterComplete = ({ history }) => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    useEffect(() => {\n        const email = window.localStorage.getItem(\"emailForRegistration\");\n        setEmail(email);\n    }, []);\n\n    const HandleSubmit = async (e) => {\n        e.preventDefault();\n\n        if(!email || !password){\n            return toast.error('Email and password is required !')\n        }\n        if(password.length < 6){\n            return toast.error('Password too short he must be at least 6 characters')\n        }\n\n        try {\n            const result = await auth.signInWithEmailLink(\n                email,\n                window.location.href\n            );\n            \n            if(result.user.emailVerified){\n                //delete storage \n                window.localStorage.removeItem(\"emailForRegistration\");\n                //get user id token \n                let user  = auth.currentUser\n                await user.updatePassword(password);\n                const idTokenResult = await user.getIdTokenResult()\n                //redux store\n                //TODO:\n                //console.log(\"user\",user,'idTokenResult',idTokenResult);\n                //redirect\n                history.push('/')\n            }\n\n\n        } catch (error) {\n        toast.error(error.message);\n            \n        }\n    }\n\n    //____________________form_________________________________\n    const registerFormComplete = () => {\n        return (\n            <form onSubmit={HandleSubmit}>\n                <div className=\"form-group\">\n                    <input\n                        type=\"email\"\n                        value={email}\n                        className=\"form-control\"\n                        disabled\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <input\n                        type=\"password\"\n                        value={password}\n                        className=\"form-control\"\n                        onChange={(e) => setPassword(e.target.value)}\n                        autoFocus\n                        placeholder=\"Password\"\n                    />\n                </div>\n                <button className=\"btn btn-raised\" type=\"submit\">\n                    Complete register\n                </button>\n            </form>\n        );\n    };\n\n    return (\n        <div className=\"container p-5\">\n            <div className=\"row\">\n                <div className=\"col-md-6 offset-md-3\">\n                    <h4>Register complete</h4>\n                    {registerFormComplete()}\n                </div>\n                <div className=\"col-6\"></div>\n            </div>\n        </div>\n    );\n};\n\nexport default RegisterComplete;\n",["70","71"],"/media/ni/新加卷/mern-stack/full-shop/client/src/redux/store.js",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/redux/reducers/index.js",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/redux/reducers/authReducer.js",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/redux/type/authType.js",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/redux/actions/authAction.js",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/forgotpassword/ForgotPassword.jsx",["72","73","74","75","76","77"],"import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { Button } from \"antd\";\nimport { MailOutlined, GoogleOutlined } from \"@ant-design/icons\";\nimport { useSelector } from \"react-redux\";\nimport { loginUser } from \"../../../redux/actions/authAction\";\nimport { Link } from \"react-router-dom\";\n\nconst ForgotPassword = ({ history }) => {\n    const [email, setEmail] = useState(\"\");\n\n    const [loading, setLoading] = useState(false);\n\n    const userAuhtState = useSelector((state) => state.auth);\n\n    useEffect(() => {\n        if (userAuhtState) {\n            history.push(\"/\");\n        }\n    }, [userAuhtState]);\n\n    const onSubmitForm = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n        const config = {\n            url: process.env.REACT_APP_FORGOT_PASSWORD_REGISTER_REDIRECT_URL,\n            handleCodeInApp: true,\n        };\n\n        // try {\n        //     await auth.sendPasswordResetEmail(email, config);\n        //     setEmail('');\n        //     setLoading(false);\n        //     toast.success('Check your email address for password rest link')\n\n        // } catch (error) {\n        //     setLoading(false);\n        //     toast.error(error.message);\n        //     console.log(\n        //         \"🚀 ~ file: ForgotPassword.jsx ~ line 36 ~ onSubmitForm ~ error\",\n        //         error\n        //     );\n        // }\n\n        await auth\n            .sendPasswordResetEmail(email, config)\n            .then(() => {\n                setEmail('')\n                setLoading(false);\n                toast.success('Check your email address for password rest link')\n            })\n            .catch((err) => {\n                console.log(\n                    \"🚀 ~ file: ForgotPassword.jsx ~ line 50 ~ onSubmitForm ~ err\",\n                    err\n                );\n                setLoading(false);\n                toast.error(err.message);\n            });\n    };\n\n    return (\n        <div className=\"container col-md-6 offset-md-3 p-5\">\n            {!loading ? (\n                <h4>forgot password</h4>\n            ) : (\n                <h4 className=\"text-danger\">Loading.....</h4>\n            )}\n\n            <form onSubmit={onSubmitForm}>\n                <div className=\"form-group\">\n                    <input\n                        type=\"email\"\n                        value={email}\n                        className=\"form-control\"\n                        onChange={(e) => setEmail(e.target.value)}\n                        placeholder=\"Type your email\"\n                        autoFocus\n                    />\n                </div>\n\n                <hr />\n                <button className=\"btn btn-raised\" disabled={!email}>\n                    {\" \"}\n                    Submit{\" \"}\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default ForgotPassword;\n",{"ruleId":"78","severity":1,"message":"79","line":39,"column":8,"nodeType":"80","endLine":39,"endColumn":10,"suggestions":"81"},{"ruleId":"78","severity":1,"message":"82","line":22,"column":8,"nodeType":"80","endLine":22,"endColumn":10,"suggestions":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","replacedBy":"87"},{"ruleId":"84","replacedBy":"88"},{"ruleId":"86","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":37,"column":23,"nodeType":"92","messageId":"93","endLine":37,"endColumn":36},{"ruleId":"84","replacedBy":"94"},{"ruleId":"86","replacedBy":"95"},{"ruleId":"90","severity":1,"message":"96","line":4,"column":10,"nodeType":"92","messageId":"93","endLine":4,"endColumn":16},{"ruleId":"90","severity":1,"message":"97","line":5,"column":10,"nodeType":"92","messageId":"93","endLine":5,"endColumn":22},{"ruleId":"90","severity":1,"message":"98","line":5,"column":24,"nodeType":"92","messageId":"93","endLine":5,"endColumn":38},{"ruleId":"90","severity":1,"message":"99","line":7,"column":10,"nodeType":"92","messageId":"93","endLine":7,"endColumn":19},{"ruleId":"90","severity":1,"message":"100","line":8,"column":10,"nodeType":"92","messageId":"93","endLine":8,"endColumn":14},{"ruleId":"78","severity":1,"message":"101","line":21,"column":8,"nodeType":"80","endLine":21,"endColumn":23,"suggestions":"102"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["103"],"React Hook useEffect has missing dependencies: 'history' and 'userAuhtState'. Either include them or remove the dependency array.",["104"],"no-native-reassign",["105"],"no-negated-in-lhs",["106"],["105"],["106"],"no-unused-vars","'idTokenResult' is assigned a value but never used.","Identifier","unusedVar",["105"],["106"],"'Button' is defined but never used.","'MailOutlined' is defined but never used.","'GoogleOutlined' is defined but never used.","'loginUser' is defined but never used.","'Link' is defined but never used.","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["107"],{"desc":"108","fix":"109"},{"desc":"110","fix":"111"},"no-global-assign","no-unsafe-negation",{"desc":"110","fix":"112"},"Update the dependencies array to be: [dispatch]",{"range":"113","text":"114"},"Update the dependencies array to be: [history, userAuhtState]",{"range":"115","text":"116"},{"range":"117","text":"116"},[1297,1299],"[dispatch]",[786,788],"[history, userAuhtState]",[680,695]]