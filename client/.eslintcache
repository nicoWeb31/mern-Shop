[{"/media/ni/新加卷/mern-stack/full-shop/client/src/components/app/App.js":"1","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/login/Login.jsx":"2","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/home/Home.jsx":"3","/media/ni/新加卷/mern-stack/full-shop/client/src/index.js":"4","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/register/Register.jsx":"5","/media/ni/新加卷/mern-stack/full-shop/client/src/components/menu/Header.jsx":"6","/media/ni/新加卷/mern-stack/full-shop/client/src/firebase.js":"7","/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/registerComplete/RegisterComplete.jsx":"8"},{"size":911,"mtime":1611137671610,"results":"9","hashOfConfig":"10"},{"size":139,"mtime":1611057981035,"results":"11","hashOfConfig":"10"},{"size":136,"mtime":1611057981021,"results":"12","hashOfConfig":"10"},{"size":318,"mtime":1611071736259,"results":"13","hashOfConfig":"10"},{"size":1668,"mtime":1611136964821,"results":"14","hashOfConfig":"10"},{"size":1469,"mtime":1611074303065,"results":"15","hashOfConfig":"10"},{"size":771,"mtime":1611134969200,"results":"16","hashOfConfig":"10"},{"size":2917,"mtime":1611140868565,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1qtx8jo",{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35"},"/media/ni/新加卷/mern-stack/full-shop/client/src/components/app/App.js",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/login/Login.jsx",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/home/Home.jsx",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/index.js",[],["36","37"],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/register/Register.jsx",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/components/menu/Header.jsx",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/firebase.js",[],"/media/ni/新加卷/mern-stack/full-shop/client/src/pages/auth/registerComplete/RegisterComplete.jsx",["38"],"import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../../firebase\";\nimport { toast } from \"react-toastify\";\n\nconst RegisterComplete = ({ history }) => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    useEffect(() => {\n        const email = window.localStorage.getItem(\"emailForRegistration\");\n        setEmail(email);\n    }, []);\n\n    const HandleSubmit = async (e) => {\n        e.preventDefault();\n\n        if(!email || !password){\n            return toast.error('Email and password is required !')\n        }\n        if(password.length < 6){\n            return toast.error('Password too short he must be at least 6 characters')\n        }\n\n        try {\n            const result = await auth.signInWithEmailLink(\n                email,\n                window.location.href\n            );\n            \n            if(result.user.emailVerified){\n                //delete storage \n                window.localStorage.removeItem(\"emailForRegistration\");\n                //get user id token \n                let user  = auth.currentUser\n                await user.updatePassword(password);\n                const idTokenResult = await user.getIdTokenResult()\n                //redux store\n                //TODO:\n                //console.log(\"user\",user,'idTokenResult',idTokenResult);\n                //redirect\n                history.push('/')\n            }\n\n\n        } catch (error) {\n        toast.error(error.message);\n            \n        }\n    }\n\n    //____________________form_________________________________\n    const registerFormComplete = () => {\n        return (\n            <form onSubmit={HandleSubmit}>\n                <div className=\"form-group\">\n                    <input\n                        type=\"email\"\n                        value={email}\n                        className=\"form-control\"\n                        disabled\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <input\n                        type=\"password\"\n                        value={password}\n                        className=\"form-control\"\n                        onChange={(e) => setPassword(e.target.value)}\n                        autoFocus\n                        placeholder=\"Password\"\n                    />\n                </div>\n                <button className=\"btn btn-raised\" type=\"submit\">\n                    Complete register\n                </button>\n            </form>\n        );\n    };\n\n    return (\n        <div className=\"container p-5\">\n            <div className=\"row\">\n                <div className=\"col-md-6 offset-md-3\">\n                    <h4>Register complete</h4>\n                    {registerFormComplete()}\n                </div>\n                <div className=\"col-6\"></div>\n            </div>\n        </div>\n    );\n};\n\nexport default RegisterComplete;\n",{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":36,"column":23,"nodeType":"45","messageId":"46","endLine":36,"endColumn":36},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"no-unused-vars","'idTokenResult' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]